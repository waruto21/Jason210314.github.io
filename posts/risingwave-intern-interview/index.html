<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Risingwave Labs 实习面试 - OneStep</title><meta name=Description content="用尽全力，活成一个普通人"><meta property="og:title" content="Risingwave Labs 实习面试"><meta property="og:description" content="最近希望找个实习，提升下技术（🤏点烂钱）。其实我先面了DatenLord，对方有一个为期一周左右的代码考核，代码 倒是写挺好，不过因为一些其他"><meta property="og:type" content="article"><meta property="og:url" content="https://waruto.top/posts/risingwave-intern-interview/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-09-22T21:32:23+08:00"><meta property="article:modified_time" content="2022-09-22T21:32:23+08:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary"><meta name=twitter:title content="Risingwave Labs 实习面试"><meta name=twitter:description content="最近希望找个实习，提升下技术（🤏点烂钱）。其实我先面了DatenLord，对方有一个为期一周左右的代码考核，代码 倒是写挺好，不过因为一些其他"><meta name=application-name content="OneStep"><meta name=apple-mobile-web-app-title content="OneStep"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://waruto.top/posts/risingwave-intern-interview/><link rel=prev href=https://waruto.top/posts/memory-ordering/><link rel=next href=https://waruto.top/posts/ospp-graphscope-filter-pushdown/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Risingwave Labs 实习面试","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/waruto.top\/posts\/risingwave-intern-interview\/"},"genre":"posts","wordcount":2856,"url":"https:\/\/waruto.top\/posts\/risingwave-intern-interview\/","datePublished":"2022-09-22T21:32:23+08:00","dateModified":"2022-09-22T21:32:23+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"waruto210"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=OneStep><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo.jpeg data-srcset="/images/logo.jpeg, /images/logo.jpeg 1.5x, /images/logo.jpeg 2x" data-sizes=auto alt=/images/logo.jpeg title=/images/logo.jpeg width=610 height=610>OneStep</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>首页 </a><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/friendlinks>友链 </a><a class=menu-item href=/about>关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=OneStep><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo.jpeg data-srcset="/images/logo.jpeg, /images/logo.jpeg 1.5x, /images/logo.jpeg 2x" data-sizes=auto alt=/images/logo.jpeg title=/images/logo.jpeg width=610 height=610>OneStep</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/ title>首页</a><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/friendlinks title>友链</a><a class=menu-item href=/about title>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Risingwave Labs 实习面试</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/waruto210 title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>waruto210</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-09-22>2022-09-22</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 2856 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 6 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept=true><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#总结>总结</a></li><li><a href=#一面>一面</a></li><li><a href=#二面>二面</a></li><li><a href=#risingwave是什么>RisingWave是什么</a></li></ul></nav></div></div><div class=content id=content><p>最近希望找个实习，提升下技术（🤏点烂钱）。其实我先面了DatenLord，对方有一个为期一周左右的代码考核，<a href=https://github.com/waruto210/kv_mpsc target=_blank rel="noopener noreffer">代码</a>
倒是写挺好，不过因为一些其他原因闹掰了，NND。然后投了仰慕已久的S社（现已更名RisingWave Labs），岗位是Database Kernel (Rust)，感觉流式数据库确实是一个有意思的新东西，里面又有很多大佬，说话又好听。</p><h2 id=总结>总结</h2><p>其实面试前我比较没有自信，因为还没真正做过这种System开发的工作，也就糊过PingCAP两个作业能拿来说说，而且看面经会考算法题，而我自从大三水了一波校招之后，就没刷过题了。面试官比较友好，也不是一直发问，而是提出一个问题，然后以一种双方讨论的方式进行面试，看了 <a href=http://blog.rinchannow.top/2022-1-21-singularity-data-interview/ target=_blank rel="noopener noreffer">RinChanNOW</a>
博客，我特别注意慢慢讲，有条理一点，避免太慌张导致面试官无法理解。然后两面写代码居然都没叫我写算法题，而是工程性比较强。</p><h2 id=一面>一面</h2><p>面试官自称是RisingWave的产品经理，但也是工程师，应该是因为这种纯技术项目需要技术人才协调开发吧（或者他应该被叫做项目经理？）。</p><p>面试官顺着简历看了看，问我哪些比较熟悉。我答：GraphScope、TinyKV、SimpleDB。于是先聊了<a href=https://github.com/alibaba/GraphScope/issues/1530 target=_blank rel="noopener noreffer">GraphScope过滤下推</a>
的实现。</p><ul><li>首先解释了GraphScope存算不分离的现状</li><li>然后解释我怎么把过滤下推到存储层</li></ul><p>其实这个项目的名字有点忽悠，面试官大概以为是我自己根据优化算法把过滤算子的位置下推了，其实这个项目是过滤本身就在计算层的最下面的source那里，source调存储层的<code>get_all</code>之后执行过滤，而我只需要把这个过滤下推到存储层，变成<code>get(filter)</code>的形式，这样存储层和计算层的数据交互就变少了，就可以做存算分离了。面试官大概是有些失望的。</p><p>然后问，TiKV这样的Raft存储集群如果存不下了扩容过程是怎么样的。其实我不太清楚，只能大概像下面这样答：</p><ul><li>region分裂，减小一个region的控制的key range大小，迁移起来更快</li><li>某个节点（source）上存储压力过大，找一个比较空闲节点（target）新建raft实例，加入该raft group</li><li>移除source上的raft成员（可能涉及leader变更）</li><li>leader向新加入的raft成员发送snapshot</li></ul><p>此处可引用TinyKV这两张图。不过我似乎没有回答上面试官在意的关键点，他说算了，有些超纲了。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/risingwave-intern-interview/balance1.png data-srcset="/risingwave-intern-interview/balance1.png, /risingwave-intern-interview/balance1.png 1.5x, /risingwave-intern-interview/balance1.png 2x" data-sizes=auto alt=/risingwave-intern-interview/balance1.png title=balance width=1190 height=678></p><p><img class=lazyload src=/svg/loading.min.svg data-src=/risingwave-intern-interview/balance2.png data-srcset="/risingwave-intern-interview/balance2.png, /risingwave-intern-interview/balance2.png 1.5x, /risingwave-intern-interview/balance2.png 2x" data-sizes=auto alt=/risingwave-intern-interview/balance2.png title=balance width=1457 height=694></p><p>然后开始问我一些SimpleDB的东西。</p><ul><li>在simple db中做了哪些内容？</li><li>buffer pool可以干什么？buffer pool作为缓存，通过其获取所有page，便于统一控制事务加锁/释放。</li><li>优化做了什么？一些CBO统计信息，比如直方图</li><li>知道RBO吗？知道一些简单修建规则。</li></ul><p>最后写代码，对方问我是不是对LRU挺熟，要不写个LRU吧，然后又突然说算了，LRU太简单了，写个HashMap吧。</p><p>其实我内心是窃喜的，LRU虽然简单，但是要用要用HashMap指向链表节点的引用，Rust搞这些可难受了（无脑套Rc也不是不行）。</p><p>然后我就直接写了一个最好实现的HashMap，用Vec充当bucket，每个元素是一个链表（链地址法）。</p><p>然后面试官让我写一个resize，并说一下复杂度，最简单的实现当然是new一个双倍size的Vec，然后把所有key迁移，复杂度O(n)。</p><p>然后问我HashMap特别大的时候，rehash时间太长怎么办？</p><p>我只想到可以用两层hash，这样绝大多数情况下，可以只扩容第二层。后来查了一下，应该是回答Redis的渐进式hash。同时持有新旧两个buckets，然后在每次操作时，move到新的位置。</p><h2 id=二面>二面</h2><p>二面很快啊，一面完等了几分钟，就开始了。二面这位面试官该觉更和蔼，更平和。他先上来介绍了一下他自己的，然后让我自我介绍。</p><p>首先，也是问GraphScope，我照上面原样讲了一遍，感觉面试官也是有些失望的。</p><p>然后问我知不知道一些底层存储的知识，LSMTree，LevelDB知道吗？幸好我复习了LSMTree和LevelDB，然后就大概聊了以下内容：</p><ul><li>分层结构</li><li>读写流程</li><li>缺点：读写放大</li><li>优化措施：block index， 步隆过滤器（原理是什么）。面试官想听到更多，但我没答上来。</li></ul><p>然后看到我简历上的<a href=https://github.com/waruto210/simple-rust-kvstore target=_blank rel="noopener noreffer">simple-rust-kvstore</a>
，开始问我对bitcask算法的实现，还好我面试前把简历上的东西都过了一遍。</p><ul><li>索引全部维护在内容中，记录 文件、偏移量</li><li>所有读取直接读索引然后读文件/所有修改操作直接追加到文件</li><li>任意时刻只有一个active file，多个inactive file</li><li>触发log compaction时，将所有活跃数据（index指向的数据）合并到新的merged file</li><li>重启时遍历所有数据file重建索引</li></ul><p>然后问缺点：</p><ul><li>索引都在内存，占内存大</li><li>重启时重构索引开销大</li></ul><p>问改进方式：</p><ul><li>优化索引内存占用</li><li>可以在后台异步持久化索引，定期做checkpoint，读写流程仍和以前一样。重启后，最多丢失一小段最新索引，只需要再读一小段active file即可。面试官还问我索引在disk中如何存储，暂时没想出来。</li></ul><p>然后时间差不多了，开始写代码。题目是写一个Redis的RESP协议parser，只需要实现<a href=https://moelove.info/2017/03/05/%E7%90%86%E8%A7%A3-Redis-%E7%9A%84-RESP-%E5%8D%8F%E8%AE%AE/#%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2 target=_blank rel="noopener noreffer">这个文档</a>
中的部分。</p><p>临时用Rust写代码真的很不舒服，一些API不熟，平常都是打开 <a href=doc.rs rel>doc.rs</a>
和 <a href=doc.rust-lang.org rel>doc.rust-lang.org</a>
看，还有各种Option和Result要处理，至于i32不能做数组下标这种事就更多了。有人看着写代码，我比较紧张，本来很多逻辑可以写的更好，可以复用的，我直接复制粘贴糊💩了，最后有一个case parse不出来，不过时间已经很长了，面试官就让结束这个环节了。结束之后，我自己给它完善优化了下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>use</span><span class=w> </span><span class=n>anyhow</span>::<span class=p>{</span><span class=n>Context</span><span class=p>,</span><span class=w> </span><span class=n>Error</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>AnyError</span><span class=p>,</span><span class=w> </span><span class=nb>Result</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=p>{</span><span class=kt>char</span><span class=p>,</span><span class=w> </span><span class=kt>usize</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>thiserror</span>::<span class=n>Error</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>ThisError</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cp>#[derive(ThisError, Debug)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>enum</span> <span class=nc>ParseRespErr</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cp>#[error(</span><span class=s>&#34;invalid ending after {0}&#34;</span><span class=cp>)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>InvalidEnding</span><span class=p>(</span><span class=nb>String</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cp>#[error(</span><span class=s>&#34;unsupport flag {0}&#34;</span><span class=cp>)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>UnsupportFlag</span><span class=p>(</span><span class=kt>char</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cp>#[error(</span><span class=s>&#34;error while parse {0}&#34;</span><span class=cp>)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ErrorWhileParse</span><span class=p>(</span><span class=nb>String</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cp>#[derive(Debug, PartialEq)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>pub</span><span class=w> </span><span class=k>enum</span> <span class=nc>RespMsg</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>SingleLine</span><span class=p>(</span><span class=nb>String</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ErrorMsg</span><span class=p>(</span><span class=nb>String</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Int</span><span class=p>(</span><span class=kt>i64</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>MultiLine</span><span class=p>(</span><span class=nb>String</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Arr</span><span class=p>(</span><span class=nb>Vec</span><span class=o>&lt;</span><span class=n>RespMsg</span><span class=o>&gt;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=w> </span><span class=n>RespMsg</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>parse_raw_int</span><span class=p>(</span><span class=n>s</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=kt>i64</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>res</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>new</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>loop</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>let</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=n>pop</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=n>context</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>ErrorWhileParse</span><span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>clone</span><span class=p>()))</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=sc>&#39;\r&#39;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kd>let</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>().</span><span class=n>context</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>InvalidEnding</span><span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>clone</span><span class=p>()))</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=sc>&#39;\n&#39;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=k>return</span><span class=w> </span><span class=nb>Err</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>InvalidEnding</span><span class=p>(</span><span class=n>res</span><span class=p>).</span><span class=n>into</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>res</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>ch</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>res</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>.</span><span class=n>parse</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>.</span><span class=n>context</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>ErrorWhileParse</span><span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>clone</span><span class=p>()))</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nb>Ok</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>parse_int</span><span class=p>(</span><span class=n>s</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=n>RespMsg</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=bp>Self</span>::<span class=n>parse_raw_int</span><span class=p>(</span><span class=n>s</span><span class=p>).</span><span class=n>map</span><span class=p>(</span><span class=o>|</span><span class=n>v</span><span class=o>|</span><span class=w> </span><span class=n>RespMsg</span>::<span class=n>Int</span><span class=p>(</span><span class=n>v</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>parse_single_str</span><span class=p>(</span><span class=n>s</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=nb>String</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>res</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>new</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>loop</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>let</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=n>pop</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=n>context</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>ErrorWhileParse</span><span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>clone</span><span class=p>()))</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=sc>&#39;\r&#39;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kd>let</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>().</span><span class=n>context</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>InvalidEnding</span><span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>clone</span><span class=p>()))</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=sc>&#39;\n&#39;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=k>return</span><span class=w> </span><span class=nb>Err</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>InvalidEnding</span><span class=p>(</span><span class=n>res</span><span class=p>).</span><span class=n>into</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>res</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>ch</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nb>Ok</span><span class=p>(</span><span class=n>res</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>parse_single</span><span class=p>(</span><span class=n>s</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=n>RespMsg</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=bp>Self</span>::<span class=n>parse_single_str</span><span class=p>(</span><span class=n>s</span><span class=p>).</span><span class=n>map</span><span class=p>(</span><span class=o>|</span><span class=n>s</span><span class=o>|</span><span class=w> </span><span class=n>RespMsg</span>::<span class=n>SingleLine</span><span class=p>(</span><span class=n>s</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>parse_err</span><span class=p>(</span><span class=n>s</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=n>RespMsg</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=bp>Self</span>::<span class=n>parse_single_str</span><span class=p>(</span><span class=n>s</span><span class=p>).</span><span class=n>map</span><span class=p>(</span><span class=o>|</span><span class=n>s</span><span class=o>|</span><span class=w> </span><span class=n>RespMsg</span>::<span class=n>ErrorMsg</span><span class=p>(</span><span class=n>s</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>parse_multi</span><span class=p>(</span><span class=n>s</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=n>RespMsg</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>res</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>new</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>str_len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=bp>Self</span>::<span class=n>parse_raw_int</span><span class=p>(</span><span class=n>s</span><span class=p>)</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=n>_</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=mi>0</span><span class=o>..</span><span class=n>str_len</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>let</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=n>pop</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=n>context</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>ErrorWhileParse</span><span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>clone</span><span class=p>()))</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>res</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>ch</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>().</span><span class=n>context</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>InvalidEnding</span><span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>clone</span><span class=p>()))</span><span class=o>?</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=sc>&#39;\r&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=o>||</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>().</span><span class=n>context</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>InvalidEnding</span><span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>clone</span><span class=p>()))</span><span class=o>?</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=sc>&#39;\n&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>Err</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>InvalidEnding</span><span class=p>(</span><span class=n>res</span><span class=p>).</span><span class=n>into</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nb>Ok</span><span class=p>(</span><span class=n>RespMsg</span>::<span class=n>MultiLine</span><span class=p>(</span><span class=n>res</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>parse_arr</span><span class=p>(</span><span class=n>s</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=n>RespMsg</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>arr_len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=bp>Self</span>::<span class=n>parse_raw_int</span><span class=p>(</span><span class=n>s</span><span class=p>)</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>res</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>Vec</span>::<span class=n>with_capacity</span><span class=p>(</span><span class=n>arr_len</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=n>_</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=mi>0</span><span class=o>..</span><span class=n>arr_len</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>let</span><span class=w> </span><span class=n>msg</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=bp>Self</span>::<span class=n>from_str</span><span class=p>(</span><span class=n>s</span><span class=p>)</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>res</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>msg</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nb>Ok</span><span class=p>(</span><span class=n>RespMsg</span>::<span class=n>Arr</span><span class=p>(</span><span class=n>res</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>from_str</span><span class=p>(</span><span class=n>s</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=n>RespMsg</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>flag</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>().</span><span class=n>context</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>ErrorWhileParse</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>clone</span><span class=p>()))</span><span class=o>?</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>match</span><span class=w> </span><span class=n>flag</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=sc>&#39;+&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=bp>Self</span>::<span class=n>parse_single</span><span class=p>(</span><span class=n>s</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=sc>&#39;-&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=bp>Self</span>::<span class=n>parse_err</span><span class=p>(</span><span class=n>s</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=sc>&#39;:&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=bp>Self</span>::<span class=n>parse_int</span><span class=p>(</span><span class=n>s</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=sc>&#39;$&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=bp>Self</span>::<span class=n>parse_multi</span><span class=p>(</span><span class=n>s</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=sc>&#39;*&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=bp>Self</span>::<span class=n>parse_arr</span><span class=p>(</span><span class=n>s</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>_</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nb>Err</span><span class=p>(</span><span class=n>ParseRespErr</span>::<span class=n>UnsupportFlag</span><span class=p>(</span><span class=n>flag</span><span class=p>).</span><span class=n>into</span><span class=p>()),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=w> </span><span class=n>TryFrom</span><span class=o>&lt;</span><span class=nb>String</span><span class=o>&gt;</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>RespMsg</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>type</span> <span class=nc>Error</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>AnyError</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>try_from</span><span class=p>(</span><span class=n>s</span>: <span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=bp>Self</span><span class=p>,</span><span class=w> </span><span class=bp>Self</span>::<span class=n>Error</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>reversed</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>chars</span><span class=p>().</span><span class=n>rev</span><span class=p>().</span><span class=n>collect</span>::<span class=o>&lt;</span><span class=nb>String</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=bp>Self</span>::<span class=n>from_str</span><span class=p>(</span><span class=o>&amp;</span><span class=k>mut</span><span class=w> </span><span class=n>reversed</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=risingwave是什么>RisingWave是什么</h2><p>两次面试的提问环节，我都问RisingWave和Flink有什么不同，有什么优势。听对方的回答，感觉RisingWave主要还是注重易用性，至于性能方面，目前还在做优化，但据说benchmark表现不俗。我感觉RisingWave更像个流处理系统，而不是数据库。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2022-09-22</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/posts/risingwave-intern-interview/index.md target=_blank>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://waruto.top/posts/risingwave-intern-interview/ data-title="Risingwave Labs 实习面试" data-via=Jason210314><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/memory-ordering/ class=prev rel=prev title="Memory Ordering"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Memory Ordering</a>
<a href=/posts/ospp-graphscope-filter-pushdown/ class=next rel=next title=GraphScope过滤下推>GraphScope过滤下推<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.104.3">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2019 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/waruto210 target=_blank>waruto210</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/copy-tex.min.css><script type=text/javascript src=https://waruto.disqus.com/embed.js defer></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-164518488-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-164518488-1" async></script></body></html>